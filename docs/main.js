!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SelectAndReset=e():t.SelectAndReset=e()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e,n){var i=n(3),s=n(4),o=n(5);t.exports=function(t,e){return i(t)||s(t,e)||o()}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],i=!0,s=!1,o=void 0;try{for(var r,c=t[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!e||n.length!==e);i=!0);}catch(t){s=!0,o=t}finally{try{i||null==c.return||c.return()}finally{if(s)throw o}}return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){"use strict";n.r(e),n.d(e,"Checkbox",(function(){return u})),n.d(e,"Result",(function(){return h})),n.d(e,"Select",(function(){return d}));var i=n(2),s=n.n(i),o=n(0),r=n.n(o),c=n(1),a=n.n(c),u=function(){function t(e){r()(this,t),this.$cont=e}return a()(t,[{key:"init",value:function(){if(null===this.$cont||void 0===this.$cont)return!1;var t=s()(this.$cont.querySelector(".js-checkbox").children,1);return this.$checkbox=t[0],this.$button=this.$cont.querySelector(".js-button"),this.isOpen=this.$cont.classList.contains("is-active"),this.initEvents(),!0}},{key:"initEvents",value:function(){var t=this;this.$button.addEventListener("click",(function(){t.toggle()})),this.$checkbox.checked&&this.activate()}},{key:"toggle",value:function(){return this.isOpen?this.deactivate():this.activate()}},{key:"activate",value:function(){return!this.isOpen&&(this.isOpen=!0,this.$cont.classList.add("is-active"),this.$button.classList.add("is-selected"),this.$checkbox.value=1,this.$checkbox.setAttribute("checked",!0),!0)}},{key:"deactivate",value:function(){return!!this.isOpen&&(this.isOpen=!1,this.$cont.classList.remove("is-active"),this.$button.classList.remove("is-selected"),this.$checkbox.value=0,this.$checkbox.removeAttribute("checked"),!0)}}]),t}(),l=function(t){return'<span style="pointer-events: none;">'.concat(t,"</span>")},h=function(){function t(e,n){r()(this,t),this.$cont=e,this.options=Object.assign({template:n.template||l,buttonClass:n.buttonClass},n)}return a()(t,[{key:"init",value:function(){return null!==this.$cont&&void 0!==this.$cont&&(this.$input=this.$cont.querySelector(".js-input"),this.$counter=this.$cont.querySelector(".js-counter")||!1,this.$reset=this.$cont.querySelector(".js-reset")||!1,this.$cont.addItem=this.addItem.bind(this),this.$cont.removeItem=this.removeItem.bind(this),this.initEvents(),!0)}},{key:"initEvents",value:function(){var t=this;this.$reset&&this.$reset.addEventListener("click",(function(){t.reset()}))}},{key:"addItem",value:function(t,e){var n=this,i=document.createElement("button");this.options.buttonClass&&(i.className+="".concat(this.options.buttonClass)),i.setAttribute("data-children-name",t),i.setAttribute("data-parent-name",e),i.type="button",i.addEventListener("click",(function(e){n.removeItem(e),n.$cont.dispatchEvent(new CustomEvent("Result.removeItem",{detail:{name:t}}))})),i.innerHTML=this.setTemplate(t),this.$input.appendChild(i),!1==!this.$counter&&this.updateCounter(),this.$cont.dispatchEvent(new CustomEvent("Result.addItem",{detail:{name:t}}))}},{key:"updateCounter",value:function(){this.$counter.innerHTML=this.$input.children.length}},{key:"removeItem",value:function(t){var e=null;if(null===(e="string"==typeof t?document.querySelector('[data-children-name="'.concat(t,'"]')):t.target))return!1;var n=e.getAttribute("data-parent-name"),i=e.getAttribute("data-children-name"),s=document.querySelector('[data-param="'.concat(n,'"]')),o=s.querySelector('[data-fake-label="'.concat(i,'"]'));return s.removeItem(o),e.remove(),!1==!this.$counter&&this.updateCounter(),!0}},{key:"reset",value:function(){for(var t=this.$input.querySelectorAll("button"),e=t.length,n=0;n<e;n+=1){var i=t[n].getAttribute("data-parent-name"),s=t[n].getAttribute("data-children-name"),o=document.querySelector('[data-param="'.concat(i,'"]')),r=o.querySelector('[data-fake-label="'.concat(s,'"]'));o.removeItem(r),t[n].remove(),!1==!this.$counter&&this.updateCounter()}}},{key:"setTemplate",value:function(t){return this.options.template(t)}}]),t}(),d=function(){function t(e){r()(this,t),this.$cont=e}return a()(t,[{key:"init",value:function(){return null!==this.$cont&&void 0!==this.$cont&&(this.$select=this.$cont.querySelector(".js-select"),this.$label=this.$cont.querySelector(".js-label"),this.$counter=this.$cont.querySelector(".js-counter")||!1,this.$reset=this.$cont.querySelector(".js-reset")||!1,this.$result=document.querySelector(".js-result"),this.param=this.$cont.getAttribute("data-param"),this.$fakeSelect=this.$cont.querySelector(".js-fake-select"),this.$options=this.$fakeSelect.querySelectorAll(".js-fake-option"),this.selectedOptions=[],this.count=this.$options.length,this.multiple=JSON.parse(this.$cont.getAttribute("data-multiple"))||!0,this.$cont.addItem=this.addItem.bind(this),this.$cont.removeItem=this.removeItem.bind(this),this.initEvents(),!0)}},{key:"initEvents",value:function(){for(var t=this,e=function(e){t.$options[e].addEventListener("click",(function(){t.onSelect(t.$options[e])}))},n=0;n<this.count;n+=1)e(n);this.$label.addEventListener("click",(function(){t.onClick()})),document.addEventListener("click",(function(e){var n=e.target;do{if(n===t.$cont)return!1;n=n.parentNode}while(n);return t.$cont.classList.remove("is-active")})),document.addEventListener("DOMContentLoaded",(function(){t.onPageReady()})),this.$reset&&this.$reset.addEventListener("click",(function(){t.reset()}))}},{key:"onClick",value:function(){return this.$cont.classList.contains("is-active")?this.deactivateCont():this.activateCont()}},{key:"activateCont",value:function(){return this.$cont.classList.add("is-active")}},{key:"deactivateCont",value:function(){return this.$cont.classList.remove("is-active")}},{key:"onSelect",value:function(t){var e=t.getAttribute("data-fake-label");if(t.classList.contains("is-selected"))return this.$result.removeItem(e);if(!1===this.multiple)for(var n=0;n<this.count;n+=1)this.removeItem(this.$options[n]),this.$result.removeItem(this.$options[n].getAttribute("data-fake-label"));return this.addItem(t,e),t.classList.add("is-selected")}},{key:"removeItem",value:function(t){var e=t.getAttribute("data-fake-value"),n=this.$select.querySelector('[data-value="'.concat(e,'"]'));this.selectedOptions.splice(this.selectedOptions.indexOf(e),1),n.checked=!1,n.removeAttribute("checked"),t.classList.remove("is-selected"),this.$counter&&this.setCounter()}},{key:"addItem",value:function(t,e){var n=t.getAttribute("data-fake-value"),i=this.$select.querySelector('[data-value="'.concat(n,'"]'));this.selectedOptions.push(n),i.checked=!0,i.setAttribute("checked",!0),this.$result.addItem(e,this.param),this.$counter&&this.setCounter()}},{key:"onPageReady",value:function(){for(var t=0;t<this.count;t+=1)if(this.$select.children[t].checked){var e=this.$select.children[t].getAttribute("data-value"),n=this.$select.children[t].getAttribute("data-label");this.selectedOptions.push(e),this.$options[t].classList.add("is-selected"),this.$result.addItem(n,this.param),this.$counter&&this.setCounter()}}},{key:"reset",value:function(){for(var t=0;t<this.count;t+=1)this.removeItem(this.$options[t]),this.$result.removeItem(this.$options[t].getAttribute("data-fake-label"))}},{key:"setCounter",value:function(){return 0<this.selectedOptions.length?(this.$counter.classList.add("is-active"),this.$counter.innerHTML=this.selectedOptions.length,!0):(this.$counter.classList.remove("is-active"),this.$counter.innerHTML=0,!0)}}]),t}()}])}));